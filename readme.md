# natHacks EEG P300 Truth Elicitor

### The P300
- The P300 is a specific signature in the brain that is typically seen when a subject is exposed to an oddball stimulus, around 300ms after the stimulus is presented -- hence the name "P300." We leverage our knowledge of the P300 by flashing images on a screen to generate many instances of this signal, then analyzing slight differences in the P300 response for different types of stimuli.

### General Setup

1. The subject plays the role of a convicted criminal. We know they had an accomplice and that this accomplice is on the loose, and we have narrowed the search down to **10 suspects**.

2. The subject will be presented with 10 folded pieces of paper. Each piece of paper has a different face on it. The subject will choose one of these 10 images, such that only they know which image they have chosen. This becomes the face of their accomplice.

3. To properly assume their role, the subject will be briefed on their relationship with their accomplice, so as to generate an emotional association with the image of their accomplice.

4. The subject will then engage with the Truth Elicitor by looking at the **GUI**. They will press a button whenever they see a **Target**, which they have seen before.

##### GUI
- once initiated, the GUI will display a countdown from 10.
- the GUI will then flash images of faces on the screen at regular intervals but in a randomized order. 10 of these images correspond to "suspects," while the other 50 are merely random faces the subject has never seen before.
- the user clicks "enter" whenever they see the Target image. To ensure they are remaining alert, the computer buzzes loudly if their response is too delayed.
- the process then repeats for the desired number of iterations. We have found that a good balance between ease and accuracy is to run the GUI for a total of 2 minutes, corresponding to 10 images for each suspect.

##### Data Collection
- the user will wear an EEG headset while engaging with the truth elicitor
- when a particular image is shown to the user, the EEG response to that image will be recorded and associated with that image
- the average EEG P300 response to each image will be accumulated and averaged over time for analysis

##### EEG Configuration
- CH1-C3, CH2-Cz, CH3-C4, CH4-P3, CH5-Pz, CH6-P4, CH7-O1, CH8-O2
- 4th order butterworth bandpass filter between 1 Hz and 12.5 Hz

##### Data Analysis
- The paradigm described in the "setup" section is known as the Probe-Target-Irrelevant paradigm. Within this paradigm, we are able to determine which image is the Probe (the accomplice) using the Boostrap Correlation Difference Method, described below.
- For each of the 10 suspects, the brain data generated from this suspect flashing on the screen is correlated against the equivalent brain data for the target image, as well as against the data for a random sample of "irrelevant" images (images we know are not potential accomplices).
- If the signal is more highly correlated with the average Target Signal than the average Irrelevant Signal, we add 1 point to the score of the suspect that generated this signal. If not, we add 0 points. We repeat this many times.
- Whichever image has the highest score is deemed to generate signals most similar to those generated by the Target Stimulus. We identify this as the Probe -- in other words, we have found their accomplice!

##### References
1. https://www.sciencedirect.com/science/article/abs/pii/S0169260708002484
2. https://www.researchgate.net/publication/331702467_Evaluation_of_P300_based_Lie_Detection_Algorithm
3. https://ieeexplore.ieee.org/document/10017818
4. https://ieeexplore.ieee.org/document/7440177
